<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Customer</title>
</head>
<body>
    <h2>Create Customer</h2>
    <form id="createCustomerForm">
        <label for="first_name">First Name:</label><br>
        <input type="text" id="first_name" name="first_name"><br>
        <label for="last_name">Last Name:</label><br>
        <input type="text" id="last_name" name="last_name"><br>
        <label for="street">Street:</label><br>
        <input type="text" id="street" name="street"><br>
        <label for="address">Address:</label><br>
        <input type="text" id="address" name="address"><br>
        <label for="city">City:</label><br>
        <input type="text" id="city" name="city"><br>
        <label for="state">State:</label><br>
        <input type="text" id="state" name="state"><br>
        <label for="email">Email:</label><br>
        <input type="text" id="email" name="email"><br>
        <label for="phone">Phone:</label><br>
        <input type="text" id="phone" name="phone"><br><br>
        <button type="button" onclick="createCustomer()">Create</button>
    </form>

    <script>
        function createCustomer() {
            const url = 'https://qa2.sunbasedata.com/sunbase/portal/api/assignment.jsp';
            const token = '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'; // Replace with the actual token
            const data = {
                cmd: 'create',
                first_name: document.getElementById('first_name').value,
                last_name: document.getElementById('last_name').value,
                street: document.getElementById('street').value,
                address: document.getElementById('address').value,
                city: document.getElementById('city').value,
                state: document.getElementById('state').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value
            };

            fetch(url, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.status === 201) {
                    alert('Customer created successfully');
                } else if (response.status === 400) {
                    alert('First Name or Last Name is missing');
                } else {
                    alert('Error in creating customer');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
